---
title: 搭建TypeScript环境
date: 2022-11-18 11:01:16
permalink: /pages/4d3af5/
publish: false
categories:
  - 进阶
  - TypeScript
tags:
  - 
---


## 一.什么是Typescript

![img](https://1-1253772569.file.myqcloud.com/ts.png)

`TypeScript`是`Javascript`的超集，遵循最新的`EcmaScript`规范。`Typescript`扩展了`Javascript`语法。

- Typescript更像后端JAVA,让`JS`可以开发大型企业级应用
- TS提供的类型系统可以帮助我们在写代码时提供丰富的语法提示
- 在编写代码时会对代码进行类型检查从而避免很多线上错误

> `TypeScript`不会取代`JS`, **尤雨溪：** 我认为将类型添加到`JS`本身是一个漫长的过程 。让委员会设计一个类型系统是（根据`TC39`的经历来判断）不切实际的 。

## 二.环境配置
我们都知道，`TypeScript`是不能直接在浏览器和node上运行的，他需要编译成js文件，才能正常运行。配置`TypeScript`环境现在都已经十分方便了。目前几乎所有的编译平台都支持ts文件的编译。在webpack项目里，可以直接配置`ts-loader`就可以了，或者使用babel的`preset-typescript`预设也很简单方便。rollup编译的话，也有相应的插件`rollup-plugin-typescript`，安装配置即可。因为rollup编译的代码更加简介美观，后续文章的实例我们都用rollup进行编译。下面我们来配置一个rollup的ts环境。


### 1.全局编译TS文件

全局安装`typescript`，后续可以用`tsc`命令进行初始化tsconfig文件和对ts文件进行编译。


```shell
npm install typescript -g
tsc --init # 生成tsconfig.json
```



```shell
tsc # 可以将ts文件编译成js文件
tsc --watch # 监控ts文件变化生成js文件
```

### 2.配置`webpack`环境

- 安装依赖

  ```shell
  npm install rollup typescript rollup-plugin-typescript2 @rollup/plugin-node-resolve rollup-plugin-serve -D
  ```
  
- 初始化`TS`配置文件

  ```shell
  npx tsc --init
  ```
  
- `rollup`配置



```js
  // rollup.config.js
  import ts from 'rollup-plugin-typescript2'
  import {nodeResolve} from '@rollup/plugin-node-resolve';
  import serve from 'rollup-plugin-serve';
  import path from 'path'
  export default {
      input:'src/index.ts',
      output:{
          format:'iife',
          file:path.resolve('dist/bundle.js'), 
          sourcemap:true
      },
      plugins:[
          nodeResolve({
              extensions:['.js','.ts']
          }),
          ts({
              tsconfig:path.resolve(__dirname,'tsconfig.json')
          }),
          serve({
              open:true,
              openPage:'/public/index.html',
              port:3000,
              contentBase:''
          })
      ]
  }
```



- `package.json`配置

  

  ```json
  "scripts": {
     "dev": "rollup -c -w"
  }
  ```

> 我们可以通过`npm run start`启动服务来使用typescript啦~